# Lab 07 - Working with Windows Processes

- [Lab 07 - Working with Windows Processes](#lab-07---working-with-windows-processes)
  - [Sceanrio](#sceanrio)
  - [Tools](#tools)
  - [Task 1: More about Windows Processes](#task-1-more-about-windows-processes)
  - [Task 2: Running Processes: Strings and Memory](#task-2-running-processes-strings-and-memory)
  - [Task 3: Processes and TCP/IP](#task-3-processes-and-tcpip)
  - [Task 4: Working with Windows Sessions](#task-4-working-with-windows-sessions)

---

## Sceanrio

You are required to do a couple of different experiments to understand how processes work and understand them better. The skills acquired in this lab will be later used when doing malware analysis and it could also be used if you are doing threat hunting too.

<br/>

The goals of this lab are to: 
- Further understand the different Process Explorer properties and settings, what they mean, and how to benefit from them.
- Understand more about threads and processes with network connections. 
- Searching for strings in program image files and memory. 
- Understand the different Windows sessions.

<br/>

By the end of the lab, you should have a better understanding of Windows processes, threads, how to find strings in the image file and in memory, processes with network connections, and the different Windows sessions and what each one is used for. You will also have the ability to spot a suspicious process that tries to use a common Windows process name.

<br/>

192.168.210.10 / AdminELS / Nu3pmkfyX

<br/>

---

## Tools

- Sysinternals Process Explorer (procexp.exe)
- Sysinternals PsExec
- Process Hacker
- Windows Netcat

<br/>

---

## Task 1: More about Windows Processes

**Question**

To continue our understanding about Windows Processes, use Process Explorer to answer the questions below. Some questions require you to do some research.

1. What do processes in pink represent?
2. Why are there two `csrss.exe`?
3. Which ports is your `explorer.exe` listening on? Is that normal, and why?
4. How many threads does your System Idle Process have and why?

<br/>

**Answer**




<br/>

---

## Task 2: Running Processes: Strings and Memory

**Question**

Determine how strings found while doing static analysis can help you with your analysis. What if the malware sample you are working on is obfuscated so the strings cannot be found during a basic search? This is one way of using the processâ€™s memory to help us in our analysis.

Note: There are three experiments to help you understand this task.

<br/>

**Answer**




<br/>

---

## Task 3: Processes and TCP/IP

**Question**

Use netcat to run an experiment and determine how the netcat listener on port 9999 can be seen in a process monitoring tool such as process explorer.

Note: There is an experiment that will help you understand this task.

<br/>

**Answer**




<br/>

---

## Task 4: Working with Windows Sessions

**Questions**

In this task, we want to understand what Windows sessions are and how to interact with them.

Note: There is an experiment that will help you understand this task.

<br/>

**Answer**




<br/>

---